<!doctype html>
<html lang="ko">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>믹스도감</title>
<style>
  :root{
    --bg:#f7f9fc; --panel:#ffffff; --ink:#0b1220; --muted:#5a6a85; --line:#d7dfec;
    --chip:#eef3ff; --pill:#f2f6ff; --hi:#e8f0ff; --accent:#2563eb; --card:#ffffff;
    --c0:#2563eb; --c1:#16a34a; --c2:#db2777; --c3:#f59e0b; --c4:#7c3aed; --c5:#0ea5e9; --c6:#ef4444; --c7:#10b981;
  }
  *{box-sizing:border-box}
  html,body{height:100%}
  body{margin:0; background:var(--bg); color:var(--ink); font-family:ui-sans-serif,system-ui,Apple SD Gothic Neo,Segoe UI,Malgun Gothic,Arial,Helvetica,sans-serif;}
  header{border-bottom:1px solid var(--line); padding:14px 16px; background:var(--panel); position:sticky; top:0; z-index:10}
  h1{margin:0; font-size:28px; font-weight:900; letter-spacing:.2px}
  .row{display:grid; grid-template-columns: 1fr auto auto auto auto; gap:10px; margin:10px 0}
  .input{border:2px solid var(--line); border-radius:12px; background:var(--panel); padding:10px}
  .input input{width:100%; font-size:18px; font-weight:800; color:var(--ink); background:transparent; border:0; outline:none}
  .btn{border:2px solid var(--line); border-radius:12px; background:var(--panel); color:var(--ink); padding:10px 12px; font-size:15px; font-weight:900; cursor:pointer}
  .btn:hover{background:var(--hi)}
  main{display:grid; grid-template-columns: 1.7fr 1.6fr; gap:14px; padding:12px; align-items:start}
  .panel{border:2px solid var(--line); border-radius:12px; padding:12px; background:var(--panel); box-shadow:0 2px 8px rgba(12,20,35,0.05)}
  .title{font-weight:900; font-size:18px; margin-bottom:6px}
  .subttl{font-weight:900; font-size:14px; margin:8px 0 6px; color:#2b3a63}
  .res-list{display:grid; gap:10px; max-height:78vh; overflow:auto; padding-right:4px}
  .res{background:var(--card); border:1px solid var(--line); border-radius:12px; padding:10px}
  .divider{border-top:2px dashed var(--line); margin:6px 0}
  .formula{display:flex; align-items:center; flex-wrap:wrap; gap:8px}
  .chip{background:var(--chip); border:1px solid var(--line); padding:6px 10px; border-radius:999px; font-weight:900; font-size:16px; cursor:pointer; user-select:none}
  .chip.small{font-size:14px; opacity:.95}
  .chip.disabled{cursor:default; pointer-events:none; opacity:1}
  .chip.t-짐{color:#8b5e3c}
  .chip.t-메{color:#6b7280}
  .chip.t-미{color:#7c3aed}
  .chip.t-악{color:#b91c1c}
  .chip.t-식{color:#16a34a}
  .chip.t-곤{color:#f59e0b}
  .chip.t-드{color:#ef4444}
  .chip.t-새{color:#0ea5e9}
  .pill{padding:4px 10px; border-radius:999px; border:1px solid var(--line); background:var(--pill); font-weight:900}
  .mono{font-family: ui-monospace,SFMono-Regular,Menlo,Consolas,monospace; font-size:12px; opacity:.8; margin-top:6px}
  .hint{font-size:12px; color:var(--muted); margin:4px 0}
  textarea{width:100%; min-height:160px; background:var(--card); color:var(--ink); border:1px solid var(--line); border-radius:8px; padding:10px; font-size:14px}
  .tree{--pad:18px; padding-left:var(--pad); border-left:2px dashed #c9d6f3; margin:6px 0 6px 0}
  .node{margin:8px 0}
  .node>.head{display:flex; align-items:center; gap:8px}
  .node .name{font-weight:900}
  .options{display:flex; flex-direction:column; gap:8px; margin:8px 0}
  .opt{position:relative; border:2px solid var(--line); border-radius:12px; padding:16px 10px 10px 10px; background:#fbfdff}
  .opt .formula{gap:6px}
  .opt .choose button{padding:6px 10px; font-weight:800; border-radius:8px; border:1px solid var(--line); background:#fff; cursor:pointer}
  .opt .choose button:hover{background:#f1f6ff}
  .opt .lbl, .summary .lbl{position:absolute; left:10px; top:-12px; background:#111827; color:#fff; padding:3px 10px; border-radius:999px; font-weight:900; font-size:12px; letter-spacing:0.2px; white-space:nowrap}
  .chosen{position:relative; border:2px solid #111827; border-radius:12px; padding:16px 10px 10px 10px; background:#fff8f5; margin:6px 0}
  .summary{position:relative; border:2px dashed #6b7280; border-radius:12px; padding:14px 12px; background:#f9fafb; margin:6px 0; font-weight:900}
  .toggle{position:absolute; right:10px; top:8px; font-size:12px; border:1px solid var(--line); background:#fff; border-radius:8px; padding:3px 8px; cursor:pointer}
  .collapsed .formula, .collapsed .choose{display:none}
  footer{margin:18px 16px; font-size:12px; color:#6b7280}
  @media (max-width: 860px){
    .row{grid-template-columns: 1fr; gap:8px}
    main{grid-template-columns: 1fr; gap:10px}
    .input input{font-size:17px}
  }
</style>

<style id="patch_mixlevel" data-patch="mix-level">
#calcResult{ color:#111827 !important; font-weight:900 !important; }
.table-wrap{margin-top:12px}
.mix-table{ width:100%; border-collapse:separate; border-spacing:0; overflow:hidden; border:1px solid #d7dfec; border-radius:12px; background:#fff }
.mix-table thead th{ background:#eef2ff; color:#111827; font-weight:900; font-size:14px; padding:12px 10px; text-align:center; border-bottom:1px solid #d7dfec }
.mix-table tbody td{ padding:12px 10px; text-align:center; border-bottom:1px solid #edf2f7; font-weight:800 }
.mix-table tbody tr:hover{background:#f7fbff}
.badge{display:inline-block; padding:4px 10px; border-radius:999px; font-weight:900; border:1px solid #d7dfec; background:#fbfdff}
.badge.k{background:#111827; color:#fff; border-color:#111827}
</style>

<style>
#calcResult { color:#111827 !important; font-weight:900 !important; background:#f9fafb !important; padding:8px 10px !important; border-radius:6px !important; display:inline-block !important; }
</style>

<script src="https://cdn.jsdelivr.net/npm/pako@2.1.0/dist/pako.min.js"></script>
<script>
(function(){
  function decode(){
    try{
      var el = document.getElementById('mixdata');
      if(!el) return;
      var flag = el.getAttribute('data-encoded');
      if(flag === '0') return;
      var b64 = (el.textContent||'').trim();
      if(!b64){ setTimeout(decode, 30); return; }
      if (typeof window.pako === 'undefined'){ setTimeout(decode, 30); return; }
      var raw = atob(b64);
      var u8 = new Uint8Array(raw.length);
      for (var i=0;i<raw.length;i++) u8[i] = raw.charCodeAt(i);
      var txt = window.pako.inflate(u8, { to: 'string' });
      el.textContent = txt;
      el.setAttribute('data-encoded','0');
      window.MIX_DATA_RAW = txt;
      try { document.dispatchEvent(new CustomEvent('mixdata:decoded')); } catch(e){}
    }catch(e){
      console.error('mixdata decode error', e);
      setTimeout(decode, 100);
    }
  }
  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', decode);
  } else {
    decode();
  }
})();
</script>

</head>
<body>
  <header>
    <h1>믹스도감</h1>
    <div class="row">
      <div class="input"><input id="q" placeholder="검색할 몬스터 이름 (괄호 없이: 예) 뉴프로즌화뿔소, 드라칸, 네오오르데빌 …)" /></div>
      <button id="search" class="btn">검색</button>
      <button id="back" class="btn">뒤로가기</button>
      <button id="buildTree" class="btn">믹스 트리 생성</button>
      <button id="resetTree" class="btn" title="현재 트리 초기화">트리 초기화</button>
    </div>
  </header>

  <main>
    <section class="panel">
      <div class="title">믹스 공식 출력</div>
      <div class="hint">좌측은 ‘믹스법(레시피) + 득코(획득)’ 전용입니다. 칩(몬스터명)을 클릭하면 그 몬스터로 재검색됩니다. Enter로도 검색 가능.</div>
      <div id="results" class="res-list"></div>
    </section>

    <aside class="panel">
      <div class="title">마인드맵 · 역방향 수동 확장</div>
      <div class="hint">검색한 대상에서 시작해 <b>믹스 트리 생성</b> → 옵션(레시피/득코) 중 하나를 <b>선택</b> → 구성 재료를 다시 <b>확장</b>… (득코가 있으면 거기서 종료 가능)</div>
      <div id="route" class="res-list"></div>
      <div class="title" style="margin-top:8px">메모</div>
      <div class="hint">형식: <b>이름: 내용</b> → 검색/트리에도 표시.</div>
      <textarea id="memo" placeholder="여기에 메모를 남겨두세요. (자동 저장)"></textarea>
    </aside>
  </main>

  <footer>
    제작자: 메크섭 MyBow
  </footer>

  <script id="mixdata" type="application/octet-stream" data-encoded="1">PUT_YOUR_GZ_BASE64_MIXDATA_HERE</script>

  <script>
  (function(){
    var elMix = document.getElementById('mixdata');
    if (elMix && elMix.getAttribute('data-encoded') === '1') {
      document.addEventListener('mixdata:decoded', function(){ location.reload(); }, { once:true });
      return;
    }

    const $ = (sel,el=document)=>el.querySelector(sel);
    const elQ = $('#q');
    const elResults = $('#results');
    const elRoute = $('#route');
    const elMemo = $('#memo');

    const MEMO_KEY = 'mixdex_v9_memo';
    elMemo.value = localStorage.getItem(MEMO_KEY)||'';
    elMemo.addEventListener('input',()=>localStorage.setItem(MEMO_KEY, elMemo.value));

    const PAREN_RE = /\([^)]*\)/g;
    const LIMIT_RE = /한정기간/g;
    function baseName(s){ return (s||'').replace(LIMIT_RE,'').replace(PAREN_RE,'').trim(); }
    function normName(s){ return baseName(s).replace(/\s+/g,'').toLowerCase(); }
    function headTag(s){ const m=(s||'').match(/^\((.)\)/); return m? m[1]:''; }
    function addMapList(map, key, val){ if(!map.has(key)) map.set(key, []); map.get(key).push(val); }

    const raw = document.getElementById('mixdata').textContent.replace(//g,'');
    const rawLines = raw.split(/
+/);
    const lines = [];
    let acc = "";
    for (let i=0;i<rawLines.length;i++){
      let line = rawLines[i].trim();
      if (!line) continue;
      acc += (acc? " " : "") + line;
      if (line.includes('=')){ lines.push(acc); acc=""; }
    }
    if (acc) lines.push(acc);

    const recipesByResult = new Map();
    const recipesByComp = new Map();
    const acqByName = new Map();

    function applyCorrections(entry){
      const combos = [
        ['삐약몬','떡충'],
        ['삐약몬','망울꽃'],
        ['삐약몬','비이스'],
        ['푸란','말콩'],
      ];
      const setEq = (a,b)=> a.length===b.length && a.every(v=>b.includes(v));
      const compsBN = entry.comps.map(c=>baseName(c));
      const isTargetCombo = combos.some(pair=> setEq(compsBN.sort(), pair.slice().sort()));
      if(isTargetCombo && baseName(entry.result)==='링링'){
        entry.result = '(새)팅팅';
      }
      return entry;
    }

    lines.forEach((line)=>{
      if(!line.includes('=')) return;
      line = line.replace(LIMIT_RE,''); 
      line = line.replace(/,\s*(?==)/g,'').replace(/,+$/,''); 
      let [lhs, rhs] = line.split('=');
      lhs = (lhs||'').trim(); rhs = (rhs||'').trim();
      const hasPlus = lhs.includes('+');
      if(hasPlus){
        const parts = lhs.split(',').map(s=>s.trim()).filter(Boolean);
        parts.forEach(part=>{
          if(!part.includes('+')) return;
          const comps = part.split('+').map(s=>s.trim()).filter(Boolean);
          if(comps.length<2) return;
          let entry = {comps, result: rhs, srcLine: line};
          entry = applyCorrections(entry);
          addMapList(recipesByResult, normName(entry.result), entry);
          comps.forEach(c=> addMapList(recipesByComp, normName(c), entry));
        });
      } else {
        const where = lhs; const name = rhs;
        const entry = {where, name, srcLine: line};
        addMapList(acqByName, normName(name), entry);
      }
    });

    function chip(name, extraClass='', clickable=true){
      const tag = headTag(name);
      const span = document.createElement('span');
      span.className = 'chip small' + (tag?(' t-'+tag):'') + (extraClass?(' '+extraClass):'');
      span.textContent = name;
      if(clickable){
        span.title = '클릭하면 이 몬스터로 재검색 (괄호 무시)';
        span.addEventListener('click', ()=>{
          elQ.value = baseName(name);
          doSearch(true);
        });
      } else {
        span.classList.add('disabled');
        span.title = '트리에서는 클릭 비활성화';
      }
      return span;
    }
    function textPill(txt){
      const s = document.createElement('span');
      s.className = 'pill'; s.textContent = txt; return s;
    }
    function rowFormula(parts){
      const div = document.createElement('div');
      div.className = 'res';
      const f = document.createElement('div');
      f.className = 'formula';
      parts.forEach(p=> f.appendChild(p));
      div.appendChild(f);
      return div;
    }
    function subTitle(txt){
      const d = document.createElement('div');
      d.className = 'subttl';
      d.textContent = txt;
      return d;
    }
    function divider(){ const d=document.createElement('div'); d.className='divider'; return d; }
    function toggleBtn(container){
      const b = document.createElement('button');
      b.className = 'toggle';
      b.textContent = '접기';
      b.addEventListener('click', ()=>{
        const col = container.classList.toggle('collapsed');
        b.textContent = col ? '펼치기' : '접기';
      });
      return b;
    }
    function childLabel(parentName, role, stageDepth){
      const lbl = document.createElement('span');
      lbl.className = 'pill';
      lbl.textContent = `${baseName(parentName)} → ${role} (믹스${stageDepth}단)`;
      lbl.style.background = '#eef6ff';
      lbl.style.borderColor = '#cfe3ff';
      lbl.style.color = '#0b1220';
      return lbl;
    }

    const qHistory = [];
    function pushHistory(rawInput){
      const v = (rawInput||'').trim();
      if(!v) return;
      if(!qHistory.length || qHistory[qHistory.length-1] !== v){
        qHistory.push(v);
      }
    }
    function goBack(){
      if(qHistory.length > 1){
        qHistory.pop();
        const prev = qHistory[qHistory.length-1];
        elQ.value = baseName(prev);
        doSearch(false);
      } else {
        elQ.value = '';
        elResults.innerHTML = '';
      }
    }

    function doSearch(shouldPush=true){
      const rawInput = (elQ.value||'');
      const q = normName(rawInput);
      elResults.innerHTML = '';
      if(!q) return;
      if(shouldPush) pushHistory(rawInput);

      const asResult = recipesByResult.get(q)||[];
      const asComp   = recipesByComp.get(q)||[];
      const acqs     = acqByName.get(q)||[];

      if(asResult.length){
        elResults.appendChild(subTitle('이걸 만드는 믹스법'));
        asResult.forEach(rec=>{
          const parts = [...rec.comps.map(c=>chip(c)), textPill('='), chip(rec.result)];
          elResults.appendChild(rowFormula(parts));
        });
        elResults.appendChild(divider());
      }
      if(acqs.length){
        elResults.appendChild(subTitle('득코 / 획득'));
        acqs.forEach(a=>{
          const left = document.createElement('span');
          left.className = 'pill';
          left.textContent = a.where + ' =';
          const parts = [left, chip(a.name)];
          elResults.appendChild(rowFormula(parts));
        });
        elResults.appendChild(divider());
      }
      if(asComp.length){
        elResults.appendChild(subTitle('이 코어가 쓰이는 믹스법'));
        asComp.forEach(rec=>{
          const comps = rec.comps.map(c=>chip(c));
          const parts = [...comps, textPill('='), chip(rec.result)];
          elResults.appendChild(rowFormula(parts));
        });
      }
      if(!asResult.length && !asComp.length && !acqs.length){
        const empty = document.createElement('div');
        empty.className = 'li';
        empty.textContent = '검색 결과가 없습니다. (이름 철자/공백/괄호 제거 확인)';
        elResults.appendChild(empty);
      }
    }

    let treeIdSeq = 0;
    function newNode(name, depth=1, meta={}){ return { id: ++treeIdSeq, name, chosen:null, children:[], leaf:false, depth, meta }; }
    function buildOptions(name){
      const k = normName(name);
      const opts = [];
      (recipesByResult.get(k)||[]).forEach(rec=> opts.push({kind:'recipe', rec}) );
      (acqByName.get(k)||[]).forEach(a=> opts.push({kind:'acq', acq:a}) );
      return opts;
    }

    function renderNode(node, mount){
      const wrap = document.createElement('div');
      wrap.className = 'node tree';
      const head = document.createElement('div');
      head.className = 'head';
      if(node.meta && node.meta.parentName && node.meta.role){
        head.appendChild(childLabel(node.meta.parentName, node.meta.role, node.meta.stageDepth));
      }
      head.appendChild(chip(node.name, '', false));
      wrap.appendChild(head);

      if(node.depth===1 && node.chosen){
        const sum = document.createElement('div');
        sum.className = 'summary';
        const lbl = document.createElement('div');
        lbl.className = 'lbl';
        lbl.textContent = '루트 요약';
        sum.appendChild(lbl);
        const txt = document.createElement('div');
        txt.textContent = `${baseName(node.name)} 믹스 루트 선택 완료`;
        sum.appendChild(txt);
        sum.appendChild(toggleBtn(sum));
        wrap.appendChild(sum);
      }

      if(!node.leaf && !node.chosen){
        const opts = buildOptions(node.name);
        if(opts.length){
          const optWrap = document.createElement('div');
          optWrap.className = 'options';
          opts.forEach((o, idx)=>{
            const box = document.createElement('div');
            box.className = 'opt opt-c'+(idx%8);

            const lbl = document.createElement('div');
            lbl.className = 'lbl';
            const nodeBase = baseName(node.name);
            lbl.textContent = `${nodeBase} 선택루트 ${idx+1}`;
            box.appendChild(lbl);
            box.appendChild(toggleBtn(box));

            if(o.kind==='recipe'){
              const f = document.createElement('div');
              f.className = 'formula';
              o.rec.comps.forEach(c=> f.appendChild(chip(c,'', false)) );
              f.appendChild(textPill('='));
              f.appendChild(chip(o.rec.result,'', false));
              box.appendChild(f);
            } else {
              const f = document.createElement('div');
              f.className = 'formula';
              const pill = document.createElement('span');
              pill.className = 'pill';
              pill.textContent = o.acq.where + ' =';
              f.appendChild(pill);
              f.appendChild(chip(o.acq.name,'', false));
              box.appendChild(f);
            }

            const act = document.createElement('div');
            act.className = 'choose';
            const btn = document.createElement('button');
            btn.textContent = '이 경로 선택';
            btn.addEventListener('click', ()=>{
              node.chosen = o;
              if(o.kind==='recipe'){
                const comps = o.rec.comps.map(c=>baseName(c));
                const main = comps[0]||'';
                const sub = comps[1]||'';
                node.children = [];
                if(main) node.children.push(newNode(main, node.depth+1, {parentName: baseName(node.name), role:'메인 코어', stageDepth: node.depth}));
                if(sub) node.children.push(newNode(sub, node.depth+1, {parentName: baseName(node.name), role:'서브 코어', stageDepth: node.depth}));
              } else {
                node.leaf = true;
              }
              mount.replaceChild(renderNode(node, mount), wrap);
            });
            act.appendChild(btn);
            box.appendChild(act);

            optWrap.appendChild(box);
          });
          wrap.appendChild(optWrap);
        } else {
          const info = document.createElement('div');
          info.className = 'li';
          info.textContent = '선택 가능한 레시피/득코가 없습니다.';
          wrap.appendChild(info);
        }
      }

      if(node.chosen){
        const sum = document.createElement('div');
        sum.className = 'chosen';
        sum.appendChild(toggleBtn(sum));

        const f = document.createElement('div');
        f.className = 'formula';
        if(node.chosen.kind==='recipe'){
          node.chosen.rec.comps.forEach(c=> f.appendChild(chip(c,'', false)));
          f.appendChild(textPill('='));
          f.appendChild(chip(node.chosen.rec.result,'', false));
        } else {
          const pill = document.createElement('span');
          pill.className = 'pill';
          pill.textContent = node.chosen.acq.where + ' =';
          f.appendChild(pill);
          f.appendChild(chip(node.chosen.acq.name,'', false));
        }
        sum.appendChild(f);
        wrap.appendChild(sum);
      }

      if(node.chosen && node.children.length){
        node.children.forEach(child=>{ wrap.appendChild(renderNode(child, wrap)); });
        const rechoose = document.createElement('div');
        rechoose.style.marginTop = '6px';
        const btn = document.createElement('button');
        btn.className = 'btn';
        btn.textContent = '이 노드 경로 다시 선택';
        btn.addEventListener('click', ()=>{
          node.chosen = null; node.children = []; node.leaf = false;
          mount.replaceChild(renderNode(node, mount), wrap);
        });
        rechoose.appendChild(btn);
        wrap.appendChild(rechoose);
      }
      return wrap;
    }
    function startTree(){
      const qName = (elQ.value||'').trim();
      if(!qName){ alert('먼저 검색어(몬스터 이름)를 입력하세요.'); return; }
      elRoute.innerHTML = '';
      const root = newNode(baseName(qName), 1);
      elRoute.appendChild(renderNode(root, elRoute));
    }
    function resetTree(){
      elRoute.innerHTML = '';
    }

    document.getElementById('search').addEventListener('click', ()=>doSearch(true));
    document.getElementById('buildTree').addEventListener('click', startTree);
    document.getElementById('resetTree').addEventListener('click', resetTree);
    document.getElementById('back').addEventListener('click', goBack);
    elQ.addEventListener('keydown', (e)=>{ if(e.key==='Enter') doSearch(true); });
    setTimeout(()=> elQ.focus(), 0);
  })();
  </script>

  <section style="margin:16px; padding:14px; border-radius:12px;">
    <div style="display:flex; gap:8px; flex-wrap:wrap; align-items:center; justify-content:center; font-size:1.05rem;">
      <input id="baseA" type="number" placeholder="기본렙 A" style="width:110px; padding:8px; text-align:center; border-radius:8px; border:none;">
      <input id="currA" type="number" placeholder="현재렙 A" style="width:110px; padding:8px; text-align:center; border-radius:8px; border:none;">
      <span> + </span>
      <input id="baseB" type="number" placeholder="기본렙 B" style="width:110px; padding:8px; text-align:center; border-radius:8px; border:none;">
      <input id="currB" type="number" placeholder="현재렙 B" style="width:110px; padding:8px; text-align:center; border-radius:8px; border:none;">
      <span> = </span>
      <button id="calcBtn" class="btn" style="padding:8px 14px; border-radius:10px;">계산하기</button>
    </div>
    <div id="resultBox" style="text-align:center; margin-top:10px; font-size:1.3rem;">결과: -</div>
  </section>

  <script>
  (function(){
    const $ = s => document.querySelector(s);
    function calc(){
      const baseA = parseFloat($('#baseA').value);
      const currA = parseFloat($('#currA').value);
      const baseB = parseFloat($('#baseB').value);
      const currB = parseFloat($('#currB').value);
      const out = $('#resultBox');
      if([baseA, currA, baseB, currB].some(v => Number.isNaN(v))){
        out.style.color = '#111827'; out.style.fontWeight='900';
        out.textContent = '결과: 입력 부족';
        return;
      }
      let add = 8;
      const a15 = currA >= (baseA + 15);
      const b15 = currB >= (baseB + 15);
      const a25 = currA >= (baseA + 25);
      const b25 = currB >= (baseB + 25);
      if(a25 && b25) add = 10;
      else if(a15 || b15) add = 9;

      const exact = (currA + currB)/2 + add;
      const isHalf = Math.abs(exact - Math.round(exact)) === 0.5;
      if(isHalf){
        out.style.color = '#ff5a5a';
        out.innerHTML = '결과: <b>' + exact.toFixed(1) + '</b> (⚠️ 변동 가능)';
      }else{
        out.style.color = '#111827'; out.style.fontWeight='900';
        out.innerHTML = '결과: <b>' + Math.round(exact) + '</b> (안정빵)';
      }
    }
    const btn = document.querySelector('#calcBtn');
    if(btn) btn.addEventListener('click', calc);
  })();
  </script>

  <div class="title" style="margin:10px 16px 0">믹스 마스터율 표</div>
  <div class="table-wrap" style="margin:0 16px 24px">
    <table class="mix-table" aria-label="믹스 마스터율 표">
      <thead>
        <tr>
          <th>믹스 단계</th>
          <th>기본 레벨 적용 범위</th>
          <th>마스터 요구 수치</th>
          <th>최종 마스터 요구 수치</th>
        </tr>
      </thead>
      <tbody>
        <tr><td><span class="badge">믹스 레벨 1</span></td><td>1~20</td><td><span class="badge">30회</span></td><td><span class="badge k">30회</span></td></tr>
        <tr><td><span class="badge">믹스 레벨 2</span></td><td>21~40</td><td><span class="badge">55회</span></td><td><span class="badge k">55회</span></td></tr>
        <tr><td><span class="badge">믹스 레벨 3</span></td><td>41~60</td><td><span class="badge">60회</span></td><td><span class="badge k">88회</span></td></tr>
        <tr><td><span class="badge">믹스 레벨 4</span></td><td>61~80</td><td><span class="badge">75회</span></td><td><span class="badge k">82회</span></td></tr>
        <tr><td><span class="badge">믹스 레벨 5</span></td><td>81~100</td><td><span class="badge">88회</span></td><td><span class="badge k">188회</span></td></tr>
        <tr><td><span class="badge">믹스 레벨 6</span></td><td>101~120</td><td><span class="badge">105회</span></td><td><span class="badge k">149회</span></td></tr>
        <tr><td><span class="badge">믹스 레벨 7</span></td><td>121~140</td><td><span class="badge">78회</span></td><td><span class="badge k">113회</span></td></tr>
        <tr><td><span class="badge">믹스 레벨 8</span></td><td>141~160</td><td><span class="badge">82회</span></td><td><span class="badge k">116회</span></td></tr>
        <tr><td><span class="badge">믹스 레벨 9</span></td><td>161~180</td><td><span class="badge">86회</span></td><td><span class="badge k">97회</span></td></tr>
        <tr><td><span class="badge">믹스 레벨 10</span></td><td>180~</td><td><span class="badge">82회</span></td><td><span class="badge k">98회</span></td></tr>
      </tbody>
    </table>
  </div>

</body>
</html>
